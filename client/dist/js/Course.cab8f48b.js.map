{"version":3,"sources":["webpack:///./src/services/course.service.js","webpack:///./src/views/Course.vue?dd56","webpack:///src/views/Course.vue","webpack:///./src/views/Course.vue?23db","webpack:///./src/views/Course.vue"],"names":["api","Course","id","data","request","url","this","apiURL","method","then","result","params","Service","render","_vm","_h","$createElement","_c","_self","staticClass","on","addCourse","_v","_e","ref","attrs","tableFields","tabeleData","totalRow","isAdmin","editRow","deleteRow","callToAPi","scopedSlots","_u","key","fn","rowData","$event","assignCourse","showModal","handleModal","proxy","staticRenderFns","name","components","VueTable","ModalWindow","index","CourseService","selectedId","methods","$router","push","open","computed","getUserRole","component"],"mappings":"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","file":"js/Course.cab8f48b.js","sourcesContent":["import request from '@/utils/request';\nimport Service from './service';\n\nconst api = 'course';\n\nexport default class Course extends Service {\n  constructor() {\n    super(api);\n  }\n\n  assignCourse(id, data) {\n    return request({\n      url: `${this.apiURL}/assign/${id}`,\n      method: 'post',\n      data,\n    }).then((result) => result);\n  }\n\n  getAssignStudnet(id) {\n    return request({\n      url: `${this.apiURL}/assign/${id}`,\n      method: 'get',\n    }).then((result) => result);\n  }\n\n  addEvents(data) {\n    return request({\n      url: `${this.apiURL}/events`,\n      method: 'post',\n      data,\n    }).then((result) => result);\n  }\n\n  getEvents() {\n    return request({\n      url: `${this.apiURL}/events`,\n      method: 'get',\n    }).then((result) => result);\n  }\n\n  getEventsForStudent() {\n    return request({\n      url: `${this.apiURL}/events/student`,\n      method: 'get',\n    }).then((result) => result);\n  }\n\n  studentAttendance(id, data) {\n    return request({\n      url: `${this.apiURL}/attendance/${id}`,\n      method: 'post',\n      data,\n    }).then((result) => result);\n  }\n\n  getAttendance(id, params) {\n    return request({\n      url: `${this.apiURL}/attendance/${id}`,\n      method: 'get',\n      params,\n    }).then((result) => result);\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"outer-w3-agile col-xl mt-3\"},[(_vm.isAdmin)?_c('button',{staticClass:\"btn btn-primary mb-3 float-right\",on:{\"click\":_vm.addCourse}},[_vm._v(\" Add Activity \")]):_vm._e(),_c('vue-table',{ref:\"vuetable\",attrs:{\"fields\":_vm.tableFields,\"table-data\":_vm.tabeleData,\"total-row\":_vm.totalRow,\"action-button-show\":_vm.isAdmin},on:{\"edit-row\":_vm.editRow,\"delete-row\":_vm.deleteRow,\"api-call\":_vm.callToAPi},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar rowData = ref.rowData;\nreturn [_c('button',{staticClass:\"btn btn-success btn-sm m-1\",on:{\"click\":function($event){return _vm.assignCourse(rowData)}}},[_c('font-awesome-icon',{attrs:{\"icon\":\"address-book\"}}),_vm._v(\" Assign Activity \")],1)]}}])})],1),(_vm.isAdmin && _vm.showModal)?_c('modal-window',{on:{\"open\":_vm.handleModal},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Delete Activity \")]},proxy:true},{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"btn btn-danger\",on:{\"click\":function($event){return _vm.deleteRow(null)}}},[_vm._v(\"Delete\")])]},proxy:true}],null,false,3326830939)},[_vm._v(\" You want to really delete this Activity? \")]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"row\">\n    <div class=\"outer-w3-agile col-xl mt-3\">\n      <button v-if=\"isAdmin\" class=\"btn btn-primary mb-3 float-right\" @click=\"addCourse\">\n        Add Activity\n      </button>\n      <vue-table\n        ref=\"vuetable\"\n        :fields=\"tableFields\"\n        :table-data=\"tabeleData\"\n        :total-row=\"totalRow\"\n        :action-button-show=\"isAdmin\"\n        @edit-row=\"editRow\"\n        @delete-row=\"deleteRow\"\n        @api-call=\"callToAPi\"\n      >\n        <template v-slot:default=\"{ rowData }\">\n          <button class=\"btn btn-success btn-sm m-1\" @click=\"assignCourse(rowData)\">\n            <font-awesome-icon icon=\"address-book\" /> Assign Activity\n          </button>\n        </template>\n      </vue-table>\n    </div>\n    <modal-window v-if=\"isAdmin && showModal\" @open=\"handleModal\">\n      <template v-slot:title> Delete Activity </template>\n      You want to really delete this Activity?\n      <template v-slot:footer>\n        <button class=\"btn btn-danger\" @click=\"deleteRow(null)\">Delete</button>\n      </template>\n    </modal-window>\n  </div>\n</template>\n\n<script>\nimport CourseService from '@/services/course.service';\nimport VueTable from '@/components/Table.vue';\nimport VuetableFieldSequence from 'vuetable-2/src/components/VuetableFieldSequence.vue';\nimport { mapGetters } from 'vuex';\n\nexport default {\n  name: 'Course',\n  components: {\n    VueTable,\n    ModalWindow: () => import('@/components/Modal.vue'),\n  },\n\n  data() {\n    return {\n      index: 1,\n      CourseService: new CourseService(),\n      tableFields: [\n        { name: VuetableFieldSequence, title: 'No.' },\n        { name: 'courseName', title: 'Activity Name' },\n        { name: 'courseCode', title: 'Activity Code' },\n        { name: 'student', title: 'Assigned Activity' },\n        { name: 'actions', title: 'Actions', width: '30%' },\n      ],\n      tabeleData: [],\n      totalRow: 0,\n      showModal: false,\n      selectedId: '',\n    };\n  },\n  methods: {\n    async callToAPi(reqData) {\n      try {\n        const response = await this.CourseService.get(reqData);\n        this.tabeleData = response.data;\n        this.totalRow = response.total;\n        this.$nextTick(() => {\n          this.$refs.vuetable.updateTable();\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    addCourse() {\n      this.$router.push({ name: 'AddCourse' });\n    },\n    editRow(id) {\n      this.$router.push({ name: 'EditCourse', params: { id } });\n    },\n    async deleteRow(id) {\n      if (id) {\n        this.selectedId = id;\n        this.handleModal(true);\n        return;\n      }\n\n      try {\n        await this.CourseService.delete(this.selectedId);\n        this.callToAPi();\n        this.handleModal(false);\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    handleModal(open) {\n      this.showModal = open;\n    },\n    assignCourse(courseData) {\n      this.$router.push({ name: 'AssignCourse', params: { id: courseData._id } });\n    },\n  },\n  computed: {\n    isAdmin() {\n      return this.getUserRole === 'admin';\n    },\n    ...mapGetters('user', ['getUserRole']),\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Course.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Course.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Course.vue?vue&type=template&id=572ee052&\"\nimport script from \"./Course.vue?vue&type=script&lang=js&\"\nexport * from \"./Course.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
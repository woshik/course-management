(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Course"],{3292:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var a=n("d4ec"),o=n("bee2"),r=n("262e"),c=n("2caf"),i=(n("99af"),n("b775")),u=n("3a78"),s="course",l=function(t){Object(r["a"])(n,t);var e=Object(c["a"])(n);function n(){return Object(a["a"])(this,n),e.call(this,s)}return Object(o["a"])(n,[{key:"assignCourse",value:function(t,e){return Object(i["a"])({url:"".concat(this.apiURL,"/assign/").concat(t),method:"post",data:e}).then((function(t){return t}))}},{key:"getAssignStudnet",value:function(t){return Object(i["a"])({url:"".concat(this.apiURL,"/assign/").concat(t),method:"get"}).then((function(t){return t}))}},{key:"addEvents",value:function(t){return Object(i["a"])({url:"".concat(this.apiURL,"/events"),method:"post",data:t}).then((function(t){return t}))}},{key:"getEvents",value:function(){return Object(i["a"])({url:"".concat(this.apiURL,"/events"),method:"get"}).then((function(t){return t}))}},{key:"getEventsForStudent",value:function(){return Object(i["a"])({url:"".concat(this.apiURL,"/events/student"),method:"get"}).then((function(t){return t}))}},{key:"studentAttendance",value:function(t,e){return Object(i["a"])({url:"".concat(this.apiURL,"/attendance/").concat(t),method:"post",data:e}).then((function(t){return t}))}},{key:"getAttendance",value:function(t,e){return Object(i["a"])({url:"".concat(this.apiURL,"/attendance/").concat(t),method:"get",params:e}).then((function(t){return t}))}}]),n}(u["a"])},"9f72":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"outer-w3-agile col-xl mt-3"},[t.isAdmin?n("button",{staticClass:"btn btn-primary mb-3 float-right",on:{click:t.addCourse}},[t._v(" Add Activity ")]):t._e(),n("vue-table",{ref:"vuetable",attrs:{fields:t.tableFields,"table-data":t.tabeleData,"total-row":t.totalRow,"action-button-show":t.isAdmin},on:{"edit-row":t.editRow,"delete-row":t.deleteRow,"api-call":t.callToAPi},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.rowData;return[n("button",{staticClass:"btn btn-success btn-sm m-1",on:{click:function(e){return t.assignCourse(a)}}},[n("font-awesome-icon",{attrs:{icon:"address-book"}}),t._v(" Assign Activity ")],1)]}}])})],1),t.isAdmin&&t.showModal?n("modal-window",{on:{open:t.handleModal},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Delete Activity ")]},proxy:!0},{key:"footer",fn:function(){return[n("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.deleteRow(null)}}},[t._v("Delete")])]},proxy:!0}],null,!1,3326830939)},[t._v(" You want to really delete this Activity? ")]):t._e()],1)},o=[],r=n("5530"),c=n("1da1"),i=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("3292")),u=n("0748"),s=n("9fa3"),l=n("2f62"),d={name:"Course",components:{VueTable:u["a"],ModalWindow:function(){return n.e("chunk-2d0d5ffe").then(n.bind(null,"714b"))}},data:function(){return{index:1,CourseService:new i["a"],tableFields:[{name:s["a"],title:"No."},{name:"courseName",title:"Activity Name"},{name:"courseCode",title:"Activity Code"},{name:"student",title:"Assigned Activity"},{name:"actions",title:"Actions",width:"30%"}],tabeleData:[],totalRow:0,showModal:!1,selectedId:""}},methods:{callToAPi:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.CourseService.get(t);case 3:a=n.sent,e.tabeleData=a.data,e.totalRow=a.total,e.$nextTick((function(){e.$refs.vuetable.updateTable()})),n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](0),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()},addCourse:function(){this.$router.push({name:"AddCourse"})},editRow:function(t){this.$router.push({name:"EditCourse",params:{id:t}})},deleteRow:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t){n.next=4;break}return e.selectedId=t,e.handleModal(!0),n.abrupt("return");case 4:return n.prev=4,n.next=7,e.CourseService.delete(e.selectedId);case 7:e.callToAPi(),e.handleModal(!1),n.next=14;break;case 11:n.prev=11,n.t0=n["catch"](4),console.log(n.t0);case 14:case"end":return n.stop()}}),n,null,[[4,11]])})))()},handleModal:function(t){this.showModal=t},assignCourse:function(t){this.$router.push({name:"AssignCourse",params:{id:t._id}})}},computed:Object(r["a"])({isAdmin:function(){return"admin"===this.getUserRole}},Object(l["b"])("user",["getUserRole"]))},f=d,h=n("2877"),b=Object(h["a"])(f,a,o,!1,null,null,null);e["default"]=b.exports}}]);
//# sourceMappingURL=Course.cab8f48b.js.map
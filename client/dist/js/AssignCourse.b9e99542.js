(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["AssignCourse"],{3292:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("d4ec"),s=n("bee2"),r=n("262e"),c=n("2caf"),u=(n("99af"),n("b775")),i=n("3a78"),o="course",l=function(e){Object(r["a"])(n,e);var t=Object(c["a"])(n);function n(){return Object(a["a"])(this,n),t.call(this,o)}return Object(s["a"])(n,[{key:"assignCourse",value:function(e,t){return Object(u["a"])({url:"".concat(this.apiURL,"/assign/").concat(e),method:"post",data:t}).then((function(e){return e}))}},{key:"getAssignStudnet",value:function(e){return Object(u["a"])({url:"".concat(this.apiURL,"/assign/").concat(e),method:"get"}).then((function(e){return e}))}},{key:"addEvents",value:function(e){return Object(u["a"])({url:"".concat(this.apiURL,"/events"),method:"post",data:e}).then((function(e){return e}))}},{key:"getEvents",value:function(){return Object(u["a"])({url:"".concat(this.apiURL,"/events"),method:"get"}).then((function(e){return e}))}},{key:"getEventsForStudent",value:function(){return Object(u["a"])({url:"".concat(this.apiURL,"/events/student"),method:"get"}).then((function(e){return e}))}},{key:"studentAttendance",value:function(e,t){return Object(u["a"])({url:"".concat(this.apiURL,"/attendance/").concat(e),method:"post",data:t}).then((function(e){return e}))}},{key:"getAttendance",value:function(e,t){return Object(u["a"])({url:"".concat(this.apiURL,"/attendance/").concat(e),method:"get",params:t}).then((function(e){return e}))}}]),n}(i["a"])},"565a":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row"},[n("div",{staticClass:"outer-w3-agile col-xl mt-3"},[n("h4",{staticClass:"tittle-w3-agileits mb-4"},[e._v("Assign Activity")]),e.messageDisplay?n("div",{staticClass:"alert",class:[e.isSuccessful?"alert-success":"alert-danger"],attrs:{role:"alert"}},[e._v(" "+e._s(e.messageDisplay)+" ")]):e._e(),n("form",{on:{submit:function(t){return t.preventDefault(),e.submitForm(t)}}},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"courseName"}},[e._v("Select User")]),n("VSelect",{attrs:{multiple:"",options:e.studentData,filterable:!1},on:{search:e.fetchStudentData},model:{value:e.selectedValue,callback:function(t){e.selectedValue=t},expression:"selectedValue"}},[n("template",{slot:"no-options"},[e._v(" type to search user... ")])],2)],1),n("button",{staticClass:"btn btn-primary"},[e._v("Assign")])])])])},s=[],r=n("1da1"),c=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("d81d"),n("99af"),n("e592")),u=n("3292"),i=n("f040"),o=(n("6dfc"),{name:"CourseAssign",mixins:[i["a"]],components:{VSelect:function(){return n.e("chunk-2d0cb76d").then(n.t.bind(null,"4a7a",7))}},data:function(){return{studentData:[],selectedValue:[],StudentService:new c["a"],CourseService:new u["a"],timer:null}},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.CourseService.getAssignStudnet(e.$route.params.id);case 3:s=t.sent,e.selectedValue=null!==(n=null===s||void 0===s||null===(a=s.student_details)||void 0===a?void 0:a.map((function(e){return{_id:e._id,label:"".concat(e.fullName," (").concat(e.email,")"),email:e.email}})))&&void 0!==n?n:[],t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.selectedValue=[];case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},methods:{fetchStudentData:function(e,t){var n=this;clearTimeout(this.timer),this.timer=setTimeout(Object(r["a"])(regeneratorRuntime.mark((function a(){var s,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t(!0),a.next=4,n.StudentService.get({perPage:5,search_keyword:e});case 4:r=a.sent,n.studentData=null!==(s=r.data.map((function(e){return{_id:e._id,label:"".concat(e.fullName," (").concat(e.email,")"),email:e.email}})))&&void 0!==s?s:[],t(!1),a.next=13;break;case 9:a.prev=9,a.t0=a["catch"](0),n.studentData=[],t(!1);case 13:case"end":return a.stop()}}),a,null,[[0,9]])}))),500)},submitForm:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n=e.selectedValue.map((function(e){return e._id})),t.next=4,e.CourseService.assignCourse(e.$route.params.id,{ids:n});case 4:e.showMessage({success:!0,message:"Students Successfully Assigned"}),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.showMessage({message:null!==(a=null===t.t0||void 0===t.t0||null===(s=t.t0.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.message)&&void 0!==a?a:"Something Wrong!!!"});case 10:console.log(e.selectedValue);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()}}}),l=o,d=n("2877"),f=Object(d["a"])(l,a,s,!1,null,null,null);t["default"]=f.exports},"6dfc":function(e,t,n){},d81d:function(e,t,n){"use strict";var a=n("23e7"),s=n("b727").map,r=n("1dde"),c=r("map");a({target:"Array",proto:!0,forced:!c},{map:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}})},e592:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("d4ec"),s=n("bee2"),r=n("262e"),c=n("2caf"),u=(n("99af"),n("b775")),i=n("3a78"),o="student",l=function(e){Object(r["a"])(n,e);var t=Object(c["a"])(n);function n(){return Object(a["a"])(this,n),t.call(this,o)}return Object(s["a"])(n,[{key:"changeStatus",value:function(e){return Object(u["a"])({url:"".concat(this.apiURL,"/status/").concat(e),method:"patch"}).then((function(e){return e}))}},{key:"getStudentAndCourseDataById",value:function(e){return Object(u["a"])({url:"".concat(this.apiURL,"/course/").concat(e),method:"get"}).then((function(e){return e}))}},{key:"resetPassword",value:function(e){return Object(u["a"])({url:"".concat(this.apiURL,"/reset/").concat(e),method:"post"}).then((function(e){return e}))}}]),n}(i["a"])},f040:function(e,t,n){"use strict";n("159b");var a={data:function(){return{isSuccessful:!1,messageDisplay:"",timer:null,success:!1}},methods:{showMessage:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;this.isSuccessful=e.success,this.messageDisplay=e.message;var a=e.ref;a&&(this.$refs[a].style.display="block"),clearTimeout(this.timer),this.timer=setTimeout((function(){t.isSuccessful=!1,t.messageDisplay="",a&&(t.$refs[a].style.display="none")}),n)},resetAll:function(){var e=this;this.$options.formFields.forEach((function(t){e.$data[t]=""}))}},computed:{formData:function(){var e=this,t={};return this.$options.formFields.forEach((function(n){e.$data[n]&&(t[n]=e.$data[n])})),t}}};t["a"]=a}}]);
//# sourceMappingURL=AssignCourse.b9e99542.js.map
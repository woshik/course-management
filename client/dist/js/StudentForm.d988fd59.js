(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["StudentForm"],{"29e8":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"outer-w3-agile col-xl mt-3"},[a("h4",{staticClass:"tittle-w3-agileits mb-4"},[t._v(t._s(t.formLabel)+" Student")]),t.messageDisplay?a("div",{staticClass:"alert",class:[t.isSuccessful?"alert-success":"alert-danger"],attrs:{role:"alert"}},[t._v(" "+t._s(t.messageDisplay)+" ")]):t._e(),a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"fullName"}},[t._v("Full Name")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.fullName,expression:"fullName",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",id:"fullName",placeholder:"Full Name",autocomplete:"off"},domProps:{value:t.fullName},on:{input:function(e){e.target.composing||(t.fullName=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"dob"}},[t._v("Date of Birth")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.dob,expression:"dob",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",id:"dob",placeholder:"Date of Birth",autocomplete:"off"},domProps:{value:t.dob},on:{focus:t.changeTextFieldToDate,blur:[t.changeDateFieldToText,function(e){return t.$forceUpdate()}],input:function(e){e.target.composing||(t.dob=e.target.value.trim())}}})]),t.isEditPage?t._e():a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"email"}},[t._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.email,expression:"email",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",id:"email",placeholder:"Email",autocomplete:"off",disabled:t.isEditPage},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t.isEditPage?t._e():a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password"}},[t._v("Password")]),a("input",{staticClass:"form-control",attrs:{type:"text",id:"password",value:"123456",autocomplete:"off",disabled:""}})]),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v(t._s(t.formLabel))])])])])},s=[],n=a("1da1"),i=(a("96cf"),a("99af"),a("e592")),o=a("f040"),u={name:"StudentForm",mixins:[o["a"]],data:function(){return{fullName:"",dob:"",email:"",StudentService:new i["a"]}},formFields:["fullName","dob","email"],mounted:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,r,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.isEditPage){e.next=15;break}return e.prev=1,e.next=4,t.StudentService.getById(t.$route.params.id);case 4:a=e.sent,r=a.fullName,s=a.dob,n=new Date(s),t.fullName=r,t.dob="".concat(n.getFullYear(),"-").concat(n.getMonth()+1,"-").concat(n.getDate()),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})))()},methods:{submit:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!t.isEditPage){e.next=7;break}return e.next=4,t.StudentService.update(t.$route.params.id,t.formData);case 4:t.$router.push({name:"Student"}),e.next=11;break;case 7:return e.next=9,t.StudentService.add(t.formData);case 9:t.resetAll(),t.showMessage({success:!0,message:"Student successfully added."});case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),t.showMessage({message:null!==(a=null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)&&void 0!==a?a:"Something Wrong!!!"});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()},changeTextFieldToDate:function(t){t.target.type="date"},changeDateFieldToText:function(t){t.target.type="text"}},computed:{formLabel:function(){return this.$route.params.id?"Edit":"Add"},isEditPage:function(){return!!this.$route.params.id}}},c=u,l=a("2877"),d=Object(l["a"])(c,r,s,!1,null,null,null);e["default"]=d.exports},e592:function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));var r=a("d4ec"),s=a("bee2"),n=a("262e"),i=a("2caf"),o=(a("99af"),a("b775")),u=a("3a78"),c="student",l=function(t){Object(n["a"])(a,t);var e=Object(i["a"])(a);function a(){return Object(r["a"])(this,a),e.call(this,c)}return Object(s["a"])(a,[{key:"changeStatus",value:function(t){return Object(o["a"])({url:"".concat(this.apiURL,"/status/").concat(t),method:"patch"}).then((function(t){return t}))}},{key:"getStudentAndCourseDataById",value:function(t){return Object(o["a"])({url:"".concat(this.apiURL,"/course/").concat(t),method:"get"}).then((function(t){return t}))}},{key:"resetPassword",value:function(t){return Object(o["a"])({url:"".concat(this.apiURL,"/reset/").concat(t),method:"post"}).then((function(t){return t}))}}]),a}(u["a"])},f040:function(t,e,a){"use strict";a("159b");var r={data:function(){return{isSuccessful:!1,messageDisplay:"",timer:null,success:!1}},methods:{showMessage:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;this.isSuccessful=t.success,this.messageDisplay=t.message,clearTimeout(this.timer),this.timer=setTimeout((function(){e.isSuccessful=!1,e.messageDisplay=""}),a)},resetAll:function(){var t=this;this.$options.formFields.forEach((function(e){t.$data[e]=""}))}},computed:{formData:function(){var t=this,e={};return this.$options.formFields.forEach((function(a){t.$data[a]&&(e[a]=t.$data[a])})),e}}};e["a"]=r}}]);
//# sourceMappingURL=StudentForm.d988fd59.js.map